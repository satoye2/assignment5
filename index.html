<!DOCTYPE html>

<html>

<head>
	<title>Home</title>
		<link rel="stylesheet" type="text/css" href="style.css">
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		
		<link href="https://fonts.googleapis.com/css2?family=Gothic+A1:wght@400;900&display=swap" rel="stylesheet">
		
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
	   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
	   crossorigin=""/>
	
		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		   crossorigin="">
		</script>

		<script src="js/leaflet-providers.js"></script>

		<script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>

</head>


<body>
		<div class="nav">
			<ul>
				<img class="logo" src="links/uic.png">
				<h2>UPP 465: Web GIS</h2>
				<li><a href="index2.html">About</a></li>
				<li><a href="index.html">Home</a></li>
			</ul>
		</div>


		<div class="body">

			<div class="introtext">
				<h1>Introduction to Leaflet Maps</h1>
				<h2>My Route from Home to Woodridge Mall</h2>
				<p>This Leaflet map shows the route I take to get from my house to Woodridge Mall.</p> <br>

				<p class="source"> <b> Contributors: </b><br>

					<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">Jawg Maps</a> 

					<br>

					<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> 

				</p>

			</div>


				<div id="map"></div>


					<script>
						//initialize map
						var myMap = L.map('map').setView([37.0902,-95.7129], 4);
						// add base layer
						var Jawg_Sunny = L.tileLayer('https://{s}.tile.jawg.io/jawg-sunny/{z}/{x}/{y}{r}.png?access-token={accessToken}', {
							attribution: '<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> <a href="https://www.openstreetmap.org/copyright">&copy; OpenStreetMap</a> contributors',
							minZoom: 0,
							maxZoom: 22,
							subdomains: 'abcd',
							accessToken: 'RbTQvk3gGa1chPMiHIqo0ISvj0gpPwMP2Lpbb53AgxvuAhiuxgIWdJmVSc3UN6gJ'
							}).addTo(myMap);
						
						// add GEOJSON
						
					$.getJSON("ChicagoHardshipIndex.geojson",function(data){
  	L.geoJson(data, {
		style: function(feature){
			var conditionalColor,
			density = feature.properties.HI;
				if ( density > 80 ) conditionalColor = "#006837";
				else if ( density > 60 ) conditionalColor = "#31a354";
				else if ( density > 40 ) conditionalColor = "#78c679";
				else if ( density > 20 ) conditionalColor = "#c2e699";
				else if ( density > 0 ) conditionalColor = "#ffffcc";
				else conditionalColor = "#f7f7f7";  // no data
				return { color: "#999", weight: 1, fillColor: conditionalColor, fillOpacity: .6 };
				},
				onEachFeature: function( feature, layer ){
				    layer.bindPopup( "Neighborhood: " + feature.properties.CA + "<br/>" + "Hardship Index Score: " + feature.properties.HI )
				}
  					}  ).addTo(map).bringToBack();
				}); 


// load Chicago ELC GeoJSON File
$.getJSON("EarlyLearningPrograms_Chicago.geojson",function(data){
	L.geoJSON(data, {
		pointToLayer: function(feature, latlng) {
			return new L.CircleMarker(latlng, 
				{	radius: 3,
					fillOpacity: 1,
					fillColor: 'red',
					color: 'orange',
					weight: .5, 
				});
		}, onEachFeature: function(feature, layer){
			layer.bindPopup("<strong>"+ feature.properties.Site_Name + "</strong><br/>" + "Ages Served :" + feature.properties.Ages_Served + "<br/>" + "Accreditation " + feature.properties.Accreditation)
		}
	}).addTo(map);
});
				 
</script>

		</div>




			<footer>
				<div class="footer">
					<div class="name">
						<p> <b> Tolu Atoyebi </b> <br> Homework #4 </p>  
					</div>
					<div class="course">
						<p>UPP 465: Web GIS <br> Summer 2021</p>
					</div>
				</div>
			</footer>


</body>

</html>
